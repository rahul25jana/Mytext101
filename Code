using UnityEngine;
using UnityEngine.UI;
using System.Collections;

public class TextController : MonoBehaviour 

{

	public Text con;
	private enum States { dr_st, lft_0, st_0, rt_0, st_1, lft_1, rt_1 }
	private States mystate;

	// Use this for initialization
	void Start ()
	
 	{
 	
 	mystate = States.dr_st;
 	print("driving");
	Update(); 	
 	
	//con.text = "This is me, coding";
	
   	}
   	
	
	// Update is called once per frame
	void Update () 
	{
	
		con.text =   "Hello everyone. I am gonna narrate my game story. It starts with a lady driving a car to save her husband's life from danger. " +
				     "She drives through an uncharted land, where there might see some dangers along the path. My game is about lady saving her husband and herself. " +
					 "When she drives, there are three roads, left, right and straight. If she chooses left, she will die. If she selects right, " + 
					 "she may fight to survive. And straight road leads to her husband. This is the first level. Two more to go \n \n" +
					 "Press d to die, s to survive and  t to try surviving";
		
		if(mystate == States.dr_st)
		{
		drst();
		} else if (mystate == States.lft_0)
		
	{
		lfts();
		 
	}   else if (mystate == States.rt_0)
	
	{
		rts();
	
	} else if (mystate == States.st_0)
		
	{
		sts();
	
	} else if (mystate == States.lft_1)
	
	{
		lft_1();
	} else if(mystate == States.st_1)
	
	{
	 
	std_1();
	
	} else if(mystate == States.rt_1)
	
	{
	rts_1();
	}
	
		           
	
	}
	
	void drst ()
	
	{
	
	//con.text = " enjoy your day by driving";
	
		  if(Input.GetKeyDown("d"))
				
				{
				mystate = States.lft_0;
				} else if( Input.GetKeyDown("t"))
				
				{
				mystate = States.rt_0;
				}
				
				else if (Input.GetKeyDown("s"))
				{
				mystate = States.st_0;
				
				}
				
				
				
				
	}
					
	void lfts ()
	
		{
		
			con.text = " if you come here, you are dead, return home \n \n " +
						 "Press r to return ";
						 
						 
			    if(Input.GetKeyDown("r"))
			    
			    {
			    
			    mystate = States.dr_st;
			    
			    }
						 
						 	
	}
	
	void rts()
	
	{
		con.text = " Try to survive here, or die. Best is to return \n \n" +
					"Press r to return";
					
			if(Input.GetKeyDown("r"))
			{
			mystate = States.dr_st;
			}
	
	}
	
	void sts()
	
	{
	con.text = " you are safe for now, next level comes, be prepared \n \n  " +
			   " Press e to continue left, t to go forward, y to escape ";
	
		if(Input.GetKeyDown("r"))
	
			{
			mystate = States.dr_st;
			
			} else if(Input.GetKeyDown(KeyCode.E))
			
			{
			mystate = States.lft_1;
			
			}
			else if(Input.GetKeyDown(KeyCode.T))
			
		{
			mystate = States.st_1;
			
		}	else if(Input.GetKeyDown(KeyCode.Y))
			
		{
			mystate = States.rt_1;
		} 
		
	}
		
		
	void lft_1 ()
	
		{
		 con.text = "This is your freedom, save your life and escape, Forget your husband \n \n " +
		 			"Press R to go back in one direction ";
		 
		 if(Input.GetKeyDown("r"))
		 {
		 mystate = States.st_0;
		 }
		 
		}	
		
		void std_1 ()
		
		{
		con.text = " This is a dead end \n \n" +
				    " Press R for U turn";
				    
				    if(Input.GetKeyDown("r"))
				    {
				    mystate = States.st_0;
				    }
				    
		}
		
		void rts_1 ()
		
		{
		 con.text = " Save your husband and run, Don't return " +
		 		" You did it,  <b><size= 20> Congrats</size></b> " +
		 		" <b><color=red><size=30> Game Over </size></color></b> ";
		 			
		 			  
		}
		
		
		
		
	
	
}
